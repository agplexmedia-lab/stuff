<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>AG Plex ‚Äî Home</title>

  <link rel="apple-touch-icon" href="../assets/favicon-180.png">
  <link rel="icon" type="image/png" href="../assets/favicon-180.png">

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --aqua:#28f2ff;
      --white:#ffffff;
      --shadow:0 9px 28px rgba(0,0,0,.35);
      --glass:rgba(0,0,0,.25);
      --glass2:rgba(0,0,0,.35);
      --radius:22px;

      /* ===== GLOBAL BANNER OFFSET (JS sets dynamically) ===== */
      --banner-offset: 0px;
    }

    /* ===== GLOBAL BANNER (fixed + safe header offset) ===== */
.global-banner{
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 9999;

  width: 100%;
  background: #f59e0b; /* bold amber */
  color: #111827;      /* dark text for contrast */
  padding: 10px 14px;
  text-align: center;
  font-weight: 700;
  font-size: 14px;
  line-height: 1.25;
}

.global-banner a{
  color: #111827;
  text-decoration: underline;
  font-weight: 900;
}
    /* Push your sticky header down under the banner */
    .topbar{
      top: var(--banner-offset);
    }

    /* Push the whole page content down so nothing hides under the banner */
    body{
      padding-top: var(--banner-offset);
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--white);
      min-height:100vh;
      background:
        linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,.55)),
        url("../assets/bgphoto.png") center/cover no-repeat fixed;
    }

    /* ===== HEADER ===== */
    .topbar{
      position:sticky;
      z-index:10;
      padding: calc(14px + env(safe-area-inset-top)) 14px 12px;
      display:flex;
      justify-content:center;
      background: linear-gradient(180deg, rgba(0,0,0,.45), rgba(0,0,0,0));
      backdrop-filter: blur(6px);
    }

    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      padding: 8px 18px;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(0,0,0,.25);
      box-shadow: var(--shadow);
      text-decoration:none;
      color:#ffffff;
      font-weight:900;
      letter-spacing:1px;
      position:relative;
      overflow:hidden;
    }

    .brand img{
      width:32px;
      height:32px;
      object-fit:contain;
      filter: drop-shadow(0 2px 6px rgba(0,0,0,.55));
    }

    .brand::after{
      content:"";
      position:absolute;
      left:18px;
      right:18px;
      bottom:6px;
      height:3px;
      background: linear-gradient(90deg, transparent, var(--aqua), transparent);
      transform: scaleX(0);
      transition: transform .35s ease;
      border-radius:999px;
    }

    .brand:hover::after,
    .brand:focus-visible::after{
      transform: scaleX(1);
    }

    /* ===== CONTENT ===== */
    .wrap{
      max-width: 860px;
      margin: 0 auto;
      padding: 12px 18px 42px;
    }

    .panel{
      margin-top: 14px;
      padding: 18px;
      background: linear-gradient(180deg, var(--glass2), var(--glass));
      border:1px solid rgba(255,255,255,.14);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }

    .title{
      font-size: clamp(28px, 4vw, 42px);
      font-weight: 900;
      margin-bottom: 12px;
      text-shadow: 0 2px 18px rgba(0,0,0,.55);
    }

    .links{
      list-style:none;
      padding:0;
      margin:0;
    }

    .links li{
      display:flex;
      align-items:flex-start;
      gap:12px;
      padding: 12px 6px;
    }

    .sq{
      width:8px; height:8px;
      background:#fff;
      border-radius:2px;
      margin-top:12px;
      flex:0 0 auto;
    }

    .linkline{
      display:flex;
      gap:10px;
      flex:1;
      flex-wrap:wrap;
      align-items:flex-start;
    }

    a.biglink{
      color: var(--aqua);
      font-weight: 900;
      font-style: italic;
      font-size: clamp(18px, 3vw, 30px);
      text-decoration: underline;
      text-underline-offset: 6px;
      text-decoration-thickness: 3px;
      white-space: normal;
    }

    .emoji{
      font-size: 22px;
      margin-top: 2px;
    }

    /* ===== STATUS EMBED (more native) ===== */
    .status-wrap{
      margin-top: 18px;
      border-radius: 18px;
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,.14);
      overflow:hidden;

      /* "native card" feel */
      background: rgba(0,0,0,.35);
      backdrop-filter: blur(8px);
    }

    /* Use aspect-ratio so it scales cleanly across devices */
    .status-frame{
      width:100%;
      aspect-ratio: 16 / 9;     /* desktop-friendly */
      min-height: 320px;        /* prevents squished frame */
      max-height: 640px;        /* stops it from being absurdly tall */
      position: relative;
    }

    .status-frame iframe{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      border:0;
      background:#000;

      /* Try to avoid inner scrollbars when possible */
      overflow:hidden;
    }

    /* Give it more vertical room on phones */
    @media (max-width: 520px){
      .status-frame{
        aspect-ratio: 10 / 10;  /* taller card on mobile */
        min-height: 420px;
        max-height: 760px;
      }
    }
  </style>
</head>

<body>

<header class="topbar">
  <a href="https://agplexmedia-lab.github.io/stuff/home/" class="brand">
    <img src="../assets/favicon-180.png" alt="AG Plex Icon">
    <span>AG PLEX</span>
  </a>
</header>

<main class="wrap">

  <!-- QUICK LINKS -->
  <section class="panel">
    <div class="title">üìå Quick Links:</div>
    <ul class="links">
      <li><span class="sq"></span><div class="linkline"><a class="biglink" href="https://agplexmedia-lab.github.io/stuff/request/">Make a Request for the Plex!</a><span class="emoji">‚úåÔ∏è</span></div></li>
      <li><span class="sq"></span><div class="linkline"><a class="biglink" href="https://agplexmedia-lab.github.io/stuff/tek/">Plex Support Bot</a><span class="emoji">üêµ</span></div></li>
      <li><span class="sq"></span><div class="linkline"><a class="biglink" href="https://agplexmedia-lab.github.io/stuff/coming-soon/">COMING SOON</a><span class="emoji">üçø</span></div></li>

      <li><span class="sq"></span><div class="linkline"><a class="biglink" href="https://plex-recs-rex.fly.dev/">Plex Recommendations</a><span class="emoji">ü¶ñ</span></div></li>
      <li><span class="sq"></span><div class="linkline"><a class="biglink" href="https://agplexmedia-lab.github.io/stuff/gallery/">AG PLEXclusives Gallery</a><span class="emoji">‚≠ê</span></div></li>
       <li><span class="sq"></span><div class="linkline"><a class="biglink" href="https://agplexmedia-lab.github.io/stuff/AG-ARCADE/">AG ARCADE</a><span class="emoji">üïπÔ∏è</span></div></li>
      <li><span class="sq"></span><div class="linkline"><a class="biglink" href="https://agplexmedia-lab.github.io/stuff/FAQ/">FAQ</a><span class="emoji">‚ùì</span></div></li>
    </ul>
  </section>

  <!-- STATUS PANEL -->
  <section class="panel">
    <div class="title">üì° Server Status</div>
    <div class="status-wrap">
      <div class="status-frame">
        <iframe
          src="https://earnest-rugelach-35fda3.netlify.app/"
          title="AG Plex Server Status"
          loading="lazy"
          scrolling="no">
        </iframe>
      </div>
    </div>
  </section>

</main>

<!-- ===== GLOBAL BANNER LOADER (put at end so body definitely exists) ===== -->
<script>
(async () => {
  try {
    if (document.body.dataset.noBanner === "true") return;

    const cfgRes = await fetch("/stuff/assets/banner-config.json", { cache: "no-store" });
    if (!cfgRes.ok) return;
    const cfg = await cfgRes.json();
    if (!cfg.enabled) return;

    const htmlPath = cfg.html_path || "/stuff/assets/banner.html";
    const bannerRes = await fetch(htmlPath, { cache: "no-store" });
    if (!bannerRes.ok) return;

    const html = await bannerRes.text();
    const mount = document.createElement("div");
    mount.innerHTML = html;

    // Insert at top of body
    document.body.insertBefore(mount, document.body.firstChild);

    function setOffset(){
      const bannerEl = document.querySelector(".global-banner");
      const h = bannerEl ? Math.ceil(bannerEl.getBoundingClientRect().height) : 0;
      document.documentElement.style.setProperty("--banner-offset", h + "px");
    }

    setOffset();
    window.addEventListener("resize", setOffset);
  } catch {
    // fail silently
  }
})();
</script>

</body>
</html>
